{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/-Second-hand-mall/src/components/page/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/components/page/index.vue","mtime":1741743644073},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js","mtime":1741743643788}],"contextDependencies":[],"result":["\n    import AppHead from '../common/AppHeader.vue';\n    import AppBody from '../common/AppPageBody.vue'\n    import AppFoot from '../common/AppFoot.vue'\n    import AppCarousel from '@/components/common/AppCarousel';\n\n    export default {\n        name: \"index\",\n        components: {\n            AppCarousel,\n            AppHead,\n            AppBody,\n            AppFoot\n        },\n        data() {\n            return {\n                labelName: '0',\n                idleList: [],\n                currentPage: 1,\n                totalItem: 1,\n            };\n        },\n        created() {\n            this.findIdleTiem(1)\n        },\n        mounted() {\n\n        },\n        watch:{\n            $route(to,from){\n                this.labelName=to.query.labelName;\n                let val=parseInt(to.query.page)?parseInt(to.query.page):1;\n                // let totalPage=parseInt(this.totalItem/8)+1;\n                // val=parseInt(val%totalPage);\n                // val=val===0?totalPage:val;\n                this.currentPage=parseInt(to.query.page)?parseInt(to.query.page):1;\n                this.findIdleTiem(val);\n            }\n        },\n        methods: {\n            findIdleTiem(page){\n                const loading = this.$loading({\n                    lock: true,\n                    text: '加载数据中',\n                    spinner: 'el-icon-loading',\n                    background: 'rgba(0, 0, 0, 0)'\n                });\n                if(this.labelName>0){\n                    this.$api.findIdleTiemByLable({\n                        idleLabel:this.labelName,\n                        page: page,\n                        nums: 8\n                    }).then(res => {\n                        console.log(res);\n                        let list = res.data.list;\n                        for (let i = 0; i < list.length; i++) {\n                            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n                            let pictureList = JSON.parse(list[i].pictureList);\n                            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                        }\n                        this.idleList = list;\n                        this.totalItem=res.data.count;\n                        console.log(this.totalItem);\n                    }).catch(e => {\n                        console.log(e)\n                    }).finally(()=>{\n                        loading.close();\n                    })\n                }else{\n                    this.$api.findIdleTiem({\n                        page: page,\n                        nums: 8\n                    }).then(res => {\n                        console.log(res);\n                        let list = res.data.list;\n                        for (let i = 0; i < list.length; i++) {\n                            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n                            let pictureList = JSON.parse(list[i].pictureList);\n                            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                        }\n                        this.idleList = list;\n                        this.totalItem=res.data.count;\n                        console.log(this.totalItem);\n                    }).catch(e => {\n                        console.log(e)\n                    }).finally(()=>{\n                        loading.close();\n                    })\n                }\n            },\n            handleClick(tab, event) {\n                // console.log(tab,event);\n                console.log(this.labelName);\n                this.$router.replace({query: {page: 1,labelName:this.labelName}});\n            },\n            handleCurrentChange(val) {\n                console.log(`当前页: ${val}`);\n                this.$router.replace({query: {page: val,labelName:this.labelName}});\n            },\n            toDetails(idle) {\n                this.$router.push({path: '/details', query: {id: idle.id}});\n            }\n        }\n    }\n",null]}