{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/-Second-hand-mall/src/components/common/ImportantAnnouncements.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/components/common/ImportantAnnouncements.vue","mtime":1742203391871},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js","mtime":1741743643788}],"contextDependencies":[],"result":["\nexport default {\n  name: \"ImportantAnnouncements\",\n  data() {\n    return {\n      importantAnnouncements: []\n    };\n  },\n  created() {\n    this.fetchImportantAnnouncements();\n  },\n  methods: {\n    fetchImportantAnnouncements() {\n      this.$api.getImportantAnnouncements({\n        limit: 5\n      })\n      .then(res => {\n        if (res.status_code === 1) {\n          this.importantAnnouncements = res.data.list || [];\n        }\n      })\n      .catch(err => {\n        console.error(\"获取重要公告失败:\", err);\n      });\n    },\n    formatDate(timestamp) {\n      if (!timestamp) return '';\n      const date = new Date(timestamp * 1000);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n    }\n  }\n};\n",{"version":3,"sources":["ImportantAnnouncements.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImportantAnnouncements.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div class=\"important-announcements\">\n    <div class=\"announcements-header\">\n      <i class=\"el-icon-bell\"></i>\n      <span>重要公告</span>\n      <router-link to=\"/announcements\" class=\"view-all\">查看全部</router-link>\n    </div>\n    <div class=\"announcements-content\" v-if=\"importantAnnouncements.length > 0\">\n      <el-carousel height=\"120px\" direction=\"vertical\" :autoplay=\"true\" indicator-position=\"none\">\n        <el-carousel-item v-for=\"item in importantAnnouncements\" :key=\"item.id\">\n          <router-link :to=\"'/announcement/' + item.id\" class=\"announcement-item\">\n            <div class=\"announcement-title\">{{ item.title }}</div>\n            <div class=\"announcement-date\">{{ formatDate(item.publish_time) }}</div>\n          </router-link>\n        </el-carousel-item>\n      </el-carousel>\n    </div>\n    <div class=\"no-data\" v-else>\n      暂无重要公告\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ImportantAnnouncements\",\n  data() {\n    return {\n      importantAnnouncements: []\n    };\n  },\n  created() {\n    this.fetchImportantAnnouncements();\n  },\n  methods: {\n    fetchImportantAnnouncements() {\n      this.$api.getImportantAnnouncements({\n        limit: 5\n      })\n      .then(res => {\n        if (res.status_code === 1) {\n          this.importantAnnouncements = res.data.list || [];\n        }\n      })\n      .catch(err => {\n        console.error(\"获取重要公告失败:\", err);\n      });\n    },\n    formatDate(timestamp) {\n      if (!timestamp) return '';\n      const date = new Date(timestamp * 1000);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.important-announcements {\n  margin: 20px 0;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 5px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 1; /* 确保z-index低于导航栏 */\n}\n\n.announcements-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n}\n\n.announcements-header i {\n  color: #e6a23c;\n  font-size: 20px;\n  margin-right: 5px;\n}\n\n.announcements-header span {\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.view-all {\n  margin-left: auto;\n  color: #409EFF;\n  font-size: 14px;\n}\n\n.announcement-item {\n  display: block;\n  padding: 5px 0;\n  text-decoration: none;\n  color: #303133;\n}\n\n.announcement-title {\n  font-size: 14px;\n  margin-bottom: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.announcement-date {\n  font-size: 12px;\n  color: #909399;\n}\n\n.no-data {\n  text-align: center;\n  color: #909399;\n  padding: 30px 0;\n}\n</style> "]}]}