{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/-Second-hand-mall/src/components/page/release.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/components/page/release.vue","mtime":1741743644074},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js","mtime":1741743643788}],"contextDependencies":[],"result":["\n    import AppHead from '../common/AppHeader.vue';\n    import AppBody from '../common/AppPageBody.vue'\n    import AppFoot from '../common/AppFoot.vue'\n    import options from '../common/country-data.js'\n    import upload from 'element-ui/packages/upload';\n\n    export default {\n        name: \"release\",\n        computed: {\n            upload() {\n                return upload\n            }\n        },\n        components: {\n            AppHead,\n            AppBody,\n            AppFoot\n        },\n        data() {\n            return {\n                imgDialogVisible:false,\n                dialogImageUrl:'',\n                showFileList:true,\n                options:options,\n                selectedOptions:[],\n\n                options2: [{\n                    value: 1,\n                    label: '数码科技'\n                }, {\n                    value: 2,\n                    label: '生活用品'\n                }, {\n                    value: 3,\n                    label: '运动相关'\n                }, {\n                    value: 4,\n                    label: '图书笔记'\n                }, {\n                    value: 5,\n                    label: '社区帖子'\n                }],\n                imgList:[],\n                idleItemInfo:{\n                    idleName:'',\n                    idleDetails:'',\n                    pictureList:'',\n                    idlePrice:0,\n                    idlePlace:'',\n                    idleLabel:''\n                }\n            };\n        },\n        methods: {\n            handleChange(value) {\n                console.log(value);\n                this.idleItemInfo.idlePlace=value[1];\n            },\n            imgChange(file, fileList){\n                this.noneBtnImg = fileList.length >= this.limitCountImg;\n            },\n            fileHandleRemove(file, fileList) {\n                console.log(file, fileList);\n                for(let i=0;i<this.imgList.length;i++){\n                    if(this.imgList[i]===file.response.data){\n                        this.imgList.splice(i,1);\n                    }\n                }\n            },\n            fileHandlePreview(file) {\n                console.log(file);\n                this.dialogImageUrl=file.response.data;\n                this.imgDialogVisible=true;\n            },\n            fileHandleSuccess(response, file, fileList){\n                console.log(\"file:\",response,file,fileList);\n                this.imgList.push(response.data);\n            },\n            releaseButton(){\n                this.idleItemInfo.pictureList=JSON.stringify(this.imgList);\n                console.log(this.idleItemInfo);\n                if(this.idleItemInfo.idleName&&\n                    this.idleItemInfo.idleDetails&&\n                    this.idleItemInfo.idlePlace&&\n                    this.idleItemInfo.idleLabel&&\n                  (this.idleItemInfo.idlePrice || this.idleItemInfo.idleLabel === 5)){\n                    this.$api.addIdleItem(this.idleItemInfo).then(res=>{\n                        if (res.status_code === 1) {\n                            this.$message({\n                                message: '发布成功！',\n                                type: 'success'\n                            });\n                            console.log(res.data);\n                            this.$router.replace({path: '/details', query: {id: res.data.id}});\n                        } else {\n                            this.$message.error('发布失败！'+res.msg);\n                        }\n                    }).catch(e=>{\n                        this.$message.error('请填写完整信息');\n                    })\n                }else {\n                    this.$message.error('请填写完整信息！');\n                }\n\n            },\n            handleExceed(files, fileList) {\n                this.$message.warning(`限制10张图片，本次选择了 ${files.length} 张图，共选择了 ${files.length + fileList.length} 张图`);\n            },\n            isNotice() {\n\n            }\n        }\n    }\n",null]}