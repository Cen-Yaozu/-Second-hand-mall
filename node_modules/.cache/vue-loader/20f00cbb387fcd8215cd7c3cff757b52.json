{"remainingRequest":"D:\\Desktop\\-Second-hand-mall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\-Second-hand-mall\\src\\components\\common\\IdleGoods.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Desktop\\-Second-hand-mall\\src\\components\\common\\IdleGoods.vue","mtime":1741232793323},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741229036518},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\babel-loader\\lib\\index.js","mtime":1741229036772},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741229036518},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\vue-loader\\lib\\index.js","mtime":1741229036465}],"contextDependencies":[],"result":["\r\n    export default {\r\n        name: \"IdleGoods\",\r\n        data() {\r\n            return {\r\n                mode: 1,\r\n                nowPage: 1,\r\n                total: 0,\r\n                onlineGoods: [],\r\n                OfflineGoods: [],\r\n                findValue: '',\r\n\t\t\t\t\t\t\t\tstatus: 1\r\n            }\r\n        },\r\n        created() {\r\n            this.getOnlineGoods();\r\n        },\r\n        methods: {\r\n            handleOfflineGoods(index) {\r\n                this.$confirm('是否确定下架此闲置商品?', '警告', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    // 用户点击确定后的逻辑，例如调用后端接口下架商品\r\n                    this.makeOfflineGoods(index);\r\n                }).catch(() => {\r\n                    // 用户点击取消后的逻辑，这里可以省略或添加相应处理\r\n                    console.log('下架操作已取消');\r\n                });\r\n            },\r\n            searchIdle(){\r\n                this.$api.queryIdle({\r\n                    findValue: this.findValue,\r\n                    page: this.nowPage,\r\n                    nums: 8,\r\n\t\t\t\t\t\t\t\t\t\tstatus: this.status\r\n                }).then(res => {\r\n                    console.log(res);\r\n                    if (res.status_code == 1 && res.data.list != null) {\r\n                            if(res.data.list[0].idleStatus == 1){\r\n                                this.onlineGoods = res.data.list;\r\n                                this.total = res.data.count;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else {\r\n                                this.OfflineGoods = res.data.list;\r\n                                this.total = res.data.count;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n                    } else{\r\n                        this.$message.error(res.msg)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.nowPage = val;\r\n                if (this.mode == 1) {\r\n                    this.getOnlineGoods();\r\n                }\r\n                if (this.mode == 2) {\r\n                    this.getOfflineGoods();\r\n                }\r\n            },\r\n            handleSelect(val) {\r\n                if (this.mode !== val) {\r\n                    this.mode = val;\r\n                    if (val == 1) {\r\n                        this.nowPage = 1;\r\n                        this.getOnlineGoods();\r\n                    }\r\n                    if (val == 2) {\r\n                        this.nowPage = 1;\r\n                        this.getOfflineGoods();\r\n                    }\r\n                }\r\n            },\r\n            makeOfflineGoods(i) {\r\n                this.$api.updateGoods({\r\n                    id: this.onlineGoods[i].id,\r\n                    status: 2\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.$message.success('下架成功');\r\n                        this.getOnlineGoods();\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            deleteGoods(i) {\r\n                this.$api.updateGoods({\r\n                    id: this.OfflineGoods[i].id,\r\n                    status: 0\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.getOfflineGoods();\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            getOnlineGoods() {\r\n                this.$api.getGoods({\r\n                    status: 1,\r\n                    page: this.nowPage,\r\n                    nums: 8\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.onlineGoods = res.data.list;\r\n                        this.total = res.data.count;\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            getOfflineGoods() {\r\n                this.$api.getGoods({\r\n                    status: 2,\r\n                    page: this.nowPage,\r\n                    nums: 8\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.OfflineGoods = res.data.list;\r\n                        this.total = res.data.count;\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n",{"version":3,"sources":["IdleGoods.vue"],"names":[],"mappings":";AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"IdleGoods.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n\t<div class=\"main-border\">\r\n\t\t<el-menu default-active=\"1\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\r\n        <span class=\"app-title\">\r\n\t\t\t\t\t\t<el-input placeholder=\"闲置名称...\" v-model=\"findValue\" @keyup.enter.native=\"searchIdle\">\r\n\t\t\t\t\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchIdle\"></el-button>\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t</span>\r\n\t\t\t<el-menu-item @click=\"status=1\" index=\"1\">上线的闲置</el-menu-item>\r\n\t\t\t<el-menu-item @click=\"status =2\" index=\"2\">下架的闲置</el-menu-item>\r\n\t\t</el-menu>\r\n\t\t<el-table v-if=\"this.mode == 1\"\r\n\t\t\t\t\t\t\t:data=\"onlineGoods\"\r\n\t\t\t\t\t\t\tstripe\r\n\t\t\t\t\t\t\tstyle=\"width: 100%;color: #5a5c61;\">\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"releaseTime\"\r\n\t\t\t\tlabel=\"发布日期\"\r\n\t\t\t\twidth=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"idleName\"\r\n\t\t\t\tlabel=\"闲置名称\"\r\n\t\t\t\tshow-overflow-tooltip\r\n\t\t\t>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"user.nickname\"\r\n\t\t\t\tlabel=\"发布用户\"\r\n\t\t\t\tshow-overflow-tooltip\r\n\t\t\t\tmin-width=\"100\"\r\n\t\t\t\twidth=\"100\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"idlePrice\"\r\n\t\t\t\tlabel=\"价格\"\r\n\t\t\t\tshow-overflow-tooltip\r\n\t\t\t\tmin-width=\"100\"\r\n\t\t\t\twidth=\"100\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t@click=\"handleOfflineGoods(scope.$index)\">违规下架\r\n\t\t\t\t\t</el-button>\r\n\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\r\n\t\t<el-table v-show=\"this.mode == 2\"\r\n\t\t\t\t\t\t\t:data=\"OfflineGoods\"\r\n\t\t\t\t\t\t\tstripe\r\n\t\t\t\t\t\t\tstyle=\"width: 100%;color: #5a5c61;\">\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"releaseTime\"\r\n\t\t\t\tlabel=\"发布日期\"\r\n\t\t\t\twidth=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"idleName\"\r\n\t\t\t\tlabel=\"闲置名称\"\r\n\t\t\t\tshow-overflow-tooltip\r\n\t\t\t>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"user.nickname\"\r\n\t\t\t\tlabel=\"发布用户\"\r\n\t\t\t\tshow-overflow-tooltip\r\n\t\t\t\tmin-width=\"100\"\r\n\t\t\t\twidth=\"100\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\tprop=\"idlePrice\"\r\n\t\t\t\tlabel=\"价格\"\r\n\t\t\t\tshow-overflow-tooltip\r\n\t\t\t\tmin-width=\"100\"\r\n\t\t\t\twidth=\"100\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t@click=\"deleteGoods(scope.$index)\">永久删除\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<div class=\"block\">\r\n\t\t\t<el-pagination\r\n\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t:current-page.sync=\"nowPage\"\r\n\t\t\t\t:page-size=\"8\"\r\n\t\t\t\tbackground\r\n\t\t\t\tlayout=\"prev, pager, next,jumper\"\r\n\t\t\t\t:total=\"total\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"IdleGoods\",\r\n        data() {\r\n            return {\r\n                mode: 1,\r\n                nowPage: 1,\r\n                total: 0,\r\n                onlineGoods: [],\r\n                OfflineGoods: [],\r\n                findValue: '',\r\n\t\t\t\t\t\t\t\tstatus: 1\r\n            }\r\n        },\r\n        created() {\r\n            this.getOnlineGoods();\r\n        },\r\n        methods: {\r\n            handleOfflineGoods(index) {\r\n                this.$confirm('是否确定下架此闲置商品?', '警告', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    // 用户点击确定后的逻辑，例如调用后端接口下架商品\r\n                    this.makeOfflineGoods(index);\r\n                }).catch(() => {\r\n                    // 用户点击取消后的逻辑，这里可以省略或添加相应处理\r\n                    console.log('下架操作已取消');\r\n                });\r\n            },\r\n            searchIdle(){\r\n                this.$api.queryIdle({\r\n                    findValue: this.findValue,\r\n                    page: this.nowPage,\r\n                    nums: 8,\r\n\t\t\t\t\t\t\t\t\t\tstatus: this.status\r\n                }).then(res => {\r\n                    console.log(res);\r\n                    if (res.status_code == 1 && res.data.list != null) {\r\n                            if(res.data.list[0].idleStatus == 1){\r\n                                this.onlineGoods = res.data.list;\r\n                                this.total = res.data.count;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else {\r\n                                this.OfflineGoods = res.data.list;\r\n                                this.total = res.data.count;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n                    } else{\r\n                        this.$message.error(res.msg)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.nowPage = val;\r\n                if (this.mode == 1) {\r\n                    this.getOnlineGoods();\r\n                }\r\n                if (this.mode == 2) {\r\n                    this.getOfflineGoods();\r\n                }\r\n            },\r\n            handleSelect(val) {\r\n                if (this.mode !== val) {\r\n                    this.mode = val;\r\n                    if (val == 1) {\r\n                        this.nowPage = 1;\r\n                        this.getOnlineGoods();\r\n                    }\r\n                    if (val == 2) {\r\n                        this.nowPage = 1;\r\n                        this.getOfflineGoods();\r\n                    }\r\n                }\r\n            },\r\n            makeOfflineGoods(i) {\r\n                this.$api.updateGoods({\r\n                    id: this.onlineGoods[i].id,\r\n                    status: 2\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.$message.success('下架成功');\r\n                        this.getOnlineGoods();\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            deleteGoods(i) {\r\n                this.$api.updateGoods({\r\n                    id: this.OfflineGoods[i].id,\r\n                    status: 0\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.getOfflineGoods();\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            getOnlineGoods() {\r\n                this.$api.getGoods({\r\n                    status: 1,\r\n                    page: this.nowPage,\r\n                    nums: 8\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.onlineGoods = res.data.list;\r\n                        this.total = res.data.count;\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            getOfflineGoods() {\r\n                this.$api.getGoods({\r\n                    status: 2,\r\n                    page: this.nowPage,\r\n                    nums: 8\r\n                }).then(res => {\r\n                    if (res.status_code == 1) {\r\n                        this.OfflineGoods = res.data.list;\r\n                        this.total = res.data.count;\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\t.main-border {\r\n\t\tbackground-color: #FFF;\r\n\t\tpadding: 10px 30px;\r\n\t\tbox-shadow: 0 1px 15px -6px rgba(0, 0, 0, .5);\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.block {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tpadding-top: 15px;\r\n\t\tpadding-bottom: 10px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.idle-card {\r\n\t\tbackground-color: var(--apple-bg-primary);\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tbox-shadow: var(--shadow-md);\r\n\t\toverflow: hidden;\r\n\t\ttransition: all 0.3s ease;\r\n\t\tcursor: pointer;\r\n\t\tmargin-bottom: var(--spacing-lg);\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.idle-card:hover {\r\n\t\ttransform: translateY(-4px);\r\n\t\tbox-shadow: var(--shadow-lg);\r\n\t}\r\n\r\n\t.idle-img-container {\r\n\t\twidth: 100%;\r\n\t\theight: 180px;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.idle-img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tobject-fit: cover;\r\n\t\ttransition: transform 0.5s ease;\r\n\t}\r\n\r\n\t.idle-card:hover .idle-img {\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t.idle-content {\r\n\t\tpadding: var(--spacing-md);\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.idle-title {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: var(--spacing-sm);\r\n\t\tcolor: var(--apple-text-primary);\r\n\t\tline-height: 1.4;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\r\n\t.idle-price-row {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-top: auto;\r\n\t}\r\n\r\n\t.idle-price {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: var(--apple-accent);\r\n\t}\r\n\r\n\t.idle-place {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: var(--apple-text-secondary);\r\n\t}\r\n\r\n\t.idle-footer {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-top: var(--spacing-sm);\r\n\t\tpadding-top: var(--spacing-sm);\r\n\t\tborder-top: 1px solid var(--apple-bg-secondary);\r\n\t}\r\n\r\n\t.idle-time {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: var(--apple-text-secondary);\r\n\t}\r\n\r\n\t.user-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.user-avatar {\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: var(--spacing-xs);\r\n\t}\r\n\r\n\t.user-nickname {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: var(--apple-text-secondary);\r\n\t}\r\n\r\n\t/* 状态标签 */\r\n\t.status-tag {\r\n\t\tposition: absolute;\r\n\t\ttop: var(--spacing-sm);\r\n\t\tright: var(--spacing-sm);\r\n\t\tpadding: 4px 8px;\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: 500;\r\n\t\tborder-radius: var(--radius-pill);\r\n\t\tcolor: white;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.status-selling {\r\n\t\tbackground-color: var(--apple-success);\r\n\t}\r\n\r\n\t.status-sold {\r\n\t\tbackground-color: var(--apple-text-secondary);\r\n\t}\r\n</style>\r\n"]}]}