{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/-Second-hand-mall/src/components/page/announcement-detail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/components/page/announcement-detail.vue","mtime":1742200811910},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js","mtime":1741743643788}],"contextDependencies":[],"result":["\nimport AppHead from '../common/AppHeader.vue'\nimport AppBody from '../common/AppPageBody.vue'\nimport AppFoot from '../common/AppFoot.vue'\n\nexport default {\n  name: \"AnnouncementDetail\",\n  components: {\n    AppHead,\n    AppBody,\n    AppFoot\n  },\n  data() {\n    return {\n      loading: false,\n      announcement: null,\n      id: null\n    };\n  },\n  created() {\n    this.id = this.$route.params.id;\n    if (this.id) {\n      this.fetchAnnouncementDetail();\n    }\n  },\n  methods: {\n    fetchAnnouncementDetail() {\n      this.loading = true;\n      this.$api.getAnnouncementDetail({ id: this.id })\n        .then(res => {\n          this.loading = false;\n          if (res.status_code === 1) {\n            this.announcement = res.data;\n          } else {\n            this.$message.error(res.msg || '获取公告详情失败');\n          }\n        })\n        .catch(err => {\n          this.loading = false;\n          console.error(\"获取公告详情失败:\", err);\n          this.$message.error('获取公告详情失败');\n        });\n    },\n    formatDate(timestamp) {\n      if (!timestamp) return '';\n      const date = new Date(timestamp * 1000);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n    }\n  }\n};\n",{"version":3,"sources":["announcement-detail.vue"],"names":[],"mappings":";AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"announcement-detail.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n  <div class=\"announcement-detail\">\n    <app-head></app-head>\n    <app-body>\n      <div class=\"detail-container\" v-loading=\"loading\">\n        <div class=\"breadcrumb\">\n          <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item :to=\"{ path: '/announcements' }\">公告列表</el-breadcrumb-item>\n            <el-breadcrumb-item>公告详情</el-breadcrumb-item>\n          </el-breadcrumb>\n        </div>\n        \n        <div class=\"announcement-content\" v-if=\"announcement\">\n          <h1 class=\"title\">{{ announcement.title }}</h1>\n          <div class=\"meta\">\n            <span class=\"time\">发布时间: {{ formatDate(announcement.publish_time) }}</span>\n            <el-tag type=\"danger\" size=\"small\" v-if=\"announcement.important === 1\">重要</el-tag>\n          </div>\n          <div class=\"content\" v-html=\"announcement.content\"></div>\n        </div>\n        \n        <div class=\"no-data\" v-else-if=\"!loading\">\n          <el-empty description=\"公告不存在或已被删除\"></el-empty>\n        </div>\n      </div>\n    </app-body>\n    <app-foot></app-foot>\n  </div>\n</template>\n\n<script>\nimport AppHead from '../common/AppHeader.vue'\nimport AppBody from '../common/AppPageBody.vue'\nimport AppFoot from '../common/AppFoot.vue'\n\nexport default {\n  name: \"AnnouncementDetail\",\n  components: {\n    AppHead,\n    AppBody,\n    AppFoot\n  },\n  data() {\n    return {\n      loading: false,\n      announcement: null,\n      id: null\n    };\n  },\n  created() {\n    this.id = this.$route.params.id;\n    if (this.id) {\n      this.fetchAnnouncementDetail();\n    }\n  },\n  methods: {\n    fetchAnnouncementDetail() {\n      this.loading = true;\n      this.$api.getAnnouncementDetail({ id: this.id })\n        .then(res => {\n          this.loading = false;\n          if (res.status_code === 1) {\n            this.announcement = res.data;\n          } else {\n            this.$message.error(res.msg || '获取公告详情失败');\n          }\n        })\n        .catch(err => {\n          this.loading = false;\n          console.error(\"获取公告详情失败:\", err);\n          this.$message.error('获取公告详情失败');\n        });\n    },\n    formatDate(timestamp) {\n      if (!timestamp) return '';\n      const date = new Date(timestamp * 1000);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.announcement-detail {\n  background-color: #f6f6f6;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.detail-container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.breadcrumb {\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.announcement-content {\n  padding: 20px 0;\n}\n\n.title {\n  font-size: 24px;\n  font-weight: bold;\n  color: #303133;\n  margin-bottom: 15px;\n}\n\n.meta {\n  margin-bottom: 20px;\n  color: #909399;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n}\n\n.time {\n  margin-right: 10px;\n}\n\n.content {\n  font-size: 16px;\n  line-height: 1.8;\n  color: #606266;\n}\n\n.no-data {\n  padding: 40px 0;\n  text-align: center;\n}\n</style> "]}]}