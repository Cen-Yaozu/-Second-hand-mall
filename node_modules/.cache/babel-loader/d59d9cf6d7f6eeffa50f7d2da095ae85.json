{"remainingRequest":"D:\\Desktop\\-Second-hand-mall\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\-Second-hand-mall\\src\\main.js","dependencies":[{"path":"D:\\Desktop\\-Second-hand-mall\\src\\main.js","mtime":1741232733318},{"path":"D:\\Desktop\\-Second-hand-mall\\babel.config.js","mtime":1741159852048},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741229036518},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\babel-loader\\lib\\index.js","mtime":1741229036772}],"contextDependencies":[],"result":["import \"D:\\\\Desktop\\\\-Second-hand-mall\\\\node_modules\\\\core-js\\\\modules\\\\es6.array.iterator.js\";\nimport \"D:\\\\Desktop\\\\-Second-hand-mall\\\\node_modules\\\\core-js\\\\modules\\\\es6.promise.js\";\nimport \"D:\\\\Desktop\\\\-Second-hand-mall\\\\node_modules\\\\core-js\\\\modules\\\\es6.object.assign.js\";\nimport \"D:\\\\Desktop\\\\-Second-hand-mall\\\\node_modules\\\\core-js\\\\modules\\\\es7.promise.finally.js\";\nimport Vue from 'vue';\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport 'babel-polyfill';\nimport \"./assets/styles/apple-design.css\";\n\n/*\r\n* Vue.prototype.$axios = axios;\r\n\r\n给Vue函数添加一个原型属性$axios 指向Axios\r\n\r\n这样做的好处是在vue实例或组件中不用再去重复引用Axios\r\n直接用this.$axios就能执行axios 方法了\r\n*\r\n* */\n\nimport api from \"./api/index.js\";\nVue.prototype.$api = api;\nvar globalData = {\n  userInfo: {\n    nickname: ''\n  }\n};\nvar sta = {\n  isLogin: false,\n  adminName: ''\n};\nVue.prototype.$sta = sta;\nVue.prototype.$globalData = globalData;\n\n/* 让它少提示一个错误信息 */\nVue.config.productionTip = false;\nVue.use(ElementUI, {\n  size: 'medium'\n});\n\n/*这里检测用户是否已经登录，登录了才能使用功能*/\nrouter.beforeEach(function (to, from, next) {\n  document.title = \"\".concat(to.meta.title);\n  // console.log(to.path,'userInfo:',Vue.prototype.$globalData.userInfo);\n  var nickname = Vue.prototype.$globalData.userInfo.nickname;\n  if (!nickname && (to.path === '/me' || to.path === '/message' || to.path === '/release' || to.path === '/order' || to.path === '/shopCart')) {\n    api.getUserInfo().then(function (res) {\n      console.log('getUserInfo:', res);\n      if (res.status_code !== 1) {\n        next('/login');\n      } else {\n        res.data.signInTime = res.data.signInTime.substring(0, 10);\n        Vue.prototype.$globalData.userInfo = res.data;\n        next();\n      }\n    }).catch(function (e) {\n      next('/login');\n    });\n  } else {\n    next();\n  }\n});\nnew Vue({\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"names":["Vue","App","router","ElementUI","api","prototype","$api","globalData","userInfo","nickname","sta","isLogin","adminName","$sta","$globalData","config","productionTip","use","size","beforeEach","to","from","next","document","title","concat","meta","path","getUserInfo","then","res","console","log","status_code","data","signInTime","substring","catch","e","render","h","$mount"],"sources":["D:/Desktop/-Second-hand-mall/src/main.js"],"sourcesContent":["import Vue from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport 'babel-polyfill';\r\nimport './assets/styles/apple-design.css';\r\n\r\n/*\r\n* Vue.prototype.$axios = axios;\r\n\r\n给Vue函数添加一个原型属性$axios 指向Axios\r\n\r\n这样做的好处是在vue实例或组件中不用再去重复引用Axios\r\n直接用this.$axios就能执行axios 方法了\r\n*\r\n* */\r\n\r\nimport api from './api/index.js';\r\nVue.prototype.$api = api;\r\n\r\nlet globalData={\r\n    userInfo:{\r\n        nickname:''\r\n    }\r\n};\r\nlet sta={\r\n    isLogin:false,\r\n    adminName:''\r\n};\r\nVue.prototype.$sta = sta;\r\n\r\nVue.prototype.$globalData=globalData;\r\n\r\n\r\n/* 让它少提示一个错误信息 */\r\nVue.config.productionTip = false;\r\n\r\nVue.use(ElementUI, {\r\n    size: 'medium'\r\n});\r\n\r\n\r\n\r\n/*这里检测用户是否已经登录，登录了才能使用功能*/\r\nrouter.beforeEach((to, from, next) => {\r\n    document.title = `${to.meta.title}`;\r\n    // console.log(to.path,'userInfo:',Vue.prototype.$globalData.userInfo);\r\n    const nickname = Vue.prototype.$globalData.userInfo.nickname;\r\n    if (!nickname\r\n        &&(to.path === '/me'\r\n        || to.path === '/message'\r\n        || to.path === '/release'\r\n        || to.path === '/order'\r\n        || to.path === '/shopCart')) {\r\n        api.getUserInfo().then(res=>{\r\n           console.log('getUserInfo:',res);\r\n           if(res.status_code!==1){\r\n               next('/login');\r\n           }else {\r\n               res.data.signInTime=res.data.signInTime.substring(0,10);\r\n               Vue.prototype.$globalData.userInfo=res.data;\r\n               next();\r\n           }\r\n        }).catch(e=>{\r\n            next('/login');\r\n        });\r\n\r\n    }else{\r\n        next();\r\n    }\r\n});\r\n\r\nnew Vue({\r\n    router,\r\n    render: h => h(App)\r\n}).$mount('#app');\r\n"],"mappings":";;;;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG;AACV,OAAOC,MAAM;AACb,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,sCAAsC;AAC7C,OAAO,gBAAgB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOC,GAAG;AACVJ,GAAG,CAACK,SAAS,CAACC,IAAI,GAAGF,GAAG;AAExB,IAAIG,UAAU,GAAC;EACXC,QAAQ,EAAC;IACLC,QAAQ,EAAC;EACb;AACJ,CAAC;AACD,IAAIC,GAAG,GAAC;EACJC,OAAO,EAAC,KAAK;EACbC,SAAS,EAAC;AACd,CAAC;AACDZ,GAAG,CAACK,SAAS,CAACQ,IAAI,GAAGH,GAAG;AAExBV,GAAG,CAACK,SAAS,CAACS,WAAW,GAACP,UAAU;;AAGpC;AACAP,GAAG,CAACe,MAAM,CAACC,aAAa,GAAG,KAAK;AAEhChB,GAAG,CAACiB,GAAG,CAACd,SAAS,EAAE;EACfe,IAAI,EAAE;AACV,CAAC,CAAC;;AAIF;AACAhB,MAAM,CAACiB,UAAU,CAAC,UAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAK;EAClCC,QAAQ,CAACC,KAAK,MAAAC,MAAA,CAAML,EAAE,CAACM,IAAI,CAACF,KAAK,CAAE;EACnC;EACA,IAAMf,QAAQ,GAAGT,GAAG,CAACK,SAAS,CAACS,WAAW,CAACN,QAAQ,CAACC,QAAQ;EAC5D,IAAI,CAACA,QAAQ,KACNW,EAAE,CAACO,IAAI,KAAK,KAAK,IACjBP,EAAE,CAACO,IAAI,KAAK,UAAU,IACtBP,EAAE,CAACO,IAAI,KAAK,UAAU,IACtBP,EAAE,CAACO,IAAI,KAAK,QAAQ,IACpBP,EAAE,CAACO,IAAI,KAAK,WAAW,CAAC,EAAE;IAC7BvB,GAAG,CAACwB,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,UAAAC,GAAG,EAAE;MACzBC,OAAO,CAACC,GAAG,CAAC,cAAc,EAACF,GAAG,CAAC;MAC/B,IAAGA,GAAG,CAACG,WAAW,KAAG,CAAC,EAAC;QACnBX,IAAI,CAAC,QAAQ,CAAC;MAClB,CAAC,MAAK;QACFQ,GAAG,CAACI,IAAI,CAACC,UAAU,GAACL,GAAG,CAACI,IAAI,CAACC,UAAU,CAACC,SAAS,CAAC,CAAC,EAAC,EAAE,CAAC;QACvDpC,GAAG,CAACK,SAAS,CAACS,WAAW,CAACN,QAAQ,GAACsB,GAAG,CAACI,IAAI;QAC3CZ,IAAI,CAAC,CAAC;MACV;IACH,CAAC,CAAC,CAACe,KAAK,CAAC,UAAAC,CAAC,EAAE;MACRhB,IAAI,CAAC,QAAQ,CAAC;IAClB,CAAC,CAAC;EAEN,CAAC,MAAI;IACDA,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,IAAItB,GAAG,CAAC;EACJE,MAAM,EAANA,MAAM;EACNqC,MAAM,EAAE,SAARA,MAAMA,CAAEC,CAAC;IAAA,OAAIA,CAAC,CAACvC,GAAG,CAAC;EAAA;AACvB,CAAC,CAAC,CAACwC,MAAM,CAAC,MAAM,CAAC","ignoreList":[]}]}