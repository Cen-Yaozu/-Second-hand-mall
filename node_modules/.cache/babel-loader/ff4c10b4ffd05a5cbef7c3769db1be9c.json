{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/-Second-hand-mall/src/components/common/IdleGoods.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/components/common/IdleGoods.vue","mtime":1741743644072},{"path":"/Users/macos/Desktop/-Second-hand-mall/babel.config.js","mtime":1741743639580},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js","mtime":1741743643788}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nexport default {\n  name: \"IdleGoods\",\n  data: function data() {\n    return {\n      mode: 1,\n      nowPage: 1,\n      total: 0,\n      onlineGoods: [],\n      OfflineGoods: [],\n      findValue: '',\n      status: \"1\"\n    };\n  },\n  created: function created() {\n    this.getOnlineGoods();\n  },\n  methods: {\n    handleOfflineGoods: function handleOfflineGoods(index) {\n      var _this = this;\n      this.$confirm('是否确定下架此闲置商品?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        // 用户点击确定后的逻辑，例如调用后端接口下架商品\n        _this.makeOfflineGoods(index);\n      }).catch(function () {\n        // 用户点击取消后的逻辑，这里可以省略或添加相应处理\n        console.log('下架操作已取消');\n      });\n    },\n    searchIdle: function searchIdle() {\n      var _this2 = this;\n      this.$api.queryIdle({\n        findValue: this.findValue,\n        page: this.nowPage,\n        nums: 8,\n        status: parseInt(this.status)\n      }).then(function (res) {\n        console.log(res);\n        if (res.status_code == 1 && res.data.list != null) {\n          if (res.data.list[0].idleStatus == 1) {\n            _this2.onlineGoods = res.data.list;\n            _this2.total = res.data.count;\n          } else {\n            _this2.OfflineGoods = res.data.list;\n            _this2.total = res.data.count;\n          }\n        } else {\n          _this2.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.nowPage = val;\n      if (this.mode == 1) {\n        this.getOnlineGoods();\n      }\n      if (this.mode == 2) {\n        this.getOfflineGoods();\n      }\n    },\n    handleSelect: function handleSelect(tab) {\n      var val = parseInt(tab.name);\n      if (this.mode !== val) {\n        this.mode = val;\n        if (val == 1) {\n          this.nowPage = 1;\n          this.getOnlineGoods();\n        }\n        if (val == 2) {\n          this.nowPage = 1;\n          this.getOfflineGoods();\n        }\n      }\n    },\n    makeOfflineGoods: function makeOfflineGoods(i) {\n      var _this3 = this;\n      this.$api.updateGoods({\n        id: this.onlineGoods[i].id,\n        status: 2\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this3.$message.success('下架成功');\n          _this3.getOnlineGoods();\n        } else {\n          _this3.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    deleteGoods: function deleteGoods(i) {\n      var _this4 = this;\n      this.$api.updateGoods({\n        id: this.OfflineGoods[i].id,\n        status: 0\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this4.getOfflineGoods();\n        } else {\n          _this4.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    getOnlineGoods: function getOnlineGoods() {\n      var _this5 = this;\n      this.$api.getGoods({\n        status: 1,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this5.onlineGoods = res.data.list;\n          _this5.total = res.data.count;\n        } else {\n          _this5.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    getOfflineGoods: function getOfflineGoods() {\n      var _this6 = this;\n      this.$api.getGoods({\n        status: 2,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this6.OfflineGoods = res.data.list;\n          _this6.total = res.data.count;\n        } else {\n          _this6.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }\n};",{"version":3,"names":["name","data","mode","nowPage","total","onlineGoods","OfflineGoods","findValue","status","created","getOnlineGoods","methods","handleOfflineGoods","index","_this","$confirm","confirmButtonText","cancelButtonText","type","then","makeOfflineGoods","catch","console","log","searchIdle","_this2","$api","queryIdle","page","nums","parseInt","res","status_code","list","idleStatus","count","$message","error","msg","e","handleCurrentChange","val","getOfflineGoods","handleSelect","tab","i","_this3","updateGoods","id","success","deleteGoods","_this4","_this5","getGoods","_this6"],"sources":["src/components/common/IdleGoods.vue"],"sourcesContent":["<template>\n\t<div class=\"idle-goods-container\">\n\t\t<div class=\"idle-header\">\n\t\t\t<el-tabs v-model=\"status\" @tab-click=\"handleSelect\" type=\"border-card\">\n\t\t\t\t<el-tab-pane label=\"上线的闲置\" name=\"1\"></el-tab-pane>\n\t\t\t\t<el-tab-pane label=\"下架的闲置\" name=\"2\"></el-tab-pane>\n\t\t\t</el-tabs>\n\t\t\t<div class=\"search-box\">\n\t\t\t\t<el-input \n\t\t\t\t\tplaceholder=\"闲置名称...\" \n\t\t\t\t\tv-model=\"findValue\" \n\t\t\t\t\t@keyup.enter.native=\"searchIdle\"\n\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\tprefix-icon=\"el-icon-search\">\n\t\t\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchIdle\"></el-button>\n\t\t\t\t</el-input>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"idle-table-wrapper\">\n\t\t\t<el-table\n\t\t\t\tv-if=\"mode == 1\"\n\t\t\t\t:data=\"onlineGoods\"\n\t\t\t\tstripe\n\t\t\t\tborder\n\t\t\t\thighlight-current-row\n\t\t\t\tclass=\"idle-table\">\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"releaseTime\"\n\t\t\t\t\tlabel=\"发布日期\"\n\t\t\t\t\twidth=\"180\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"idleName\"\n\t\t\t\t\tlabel=\"闲置名称\"\n\t\t\t\t\tshow-overflow-tooltip>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"user.nickname\"\n\t\t\t\t\tlabel=\"发布用户\"\n\t\t\t\t\tshow-overflow-tooltip\n\t\t\t\t\twidth=\"120\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"idlePrice\"\n\t\t\t\t\tlabel=\"价格\"\n\t\t\t\t\twidth=\"100\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<span class=\"price\">¥{{ scope.row.idlePrice }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\ticon=\"el-icon-delete\"\n\t\t\t\t\t\t\t@click=\"handleOfflineGoods(scope.$index)\">下架\n\t\t\t\t\t\t</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\n\t\t\t<el-table\n\t\t\t\tv-show=\"mode == 2\"\n\t\t\t\t:data=\"OfflineGoods\"\n\t\t\t\tstripe\n\t\t\t\tborder\n\t\t\t\thighlight-current-row\n\t\t\t\tclass=\"idle-table\">\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"releaseTime\"\n\t\t\t\t\tlabel=\"发布日期\"\n\t\t\t\t\twidth=\"180\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"idleName\"\n\t\t\t\t\tlabel=\"闲置名称\"\n\t\t\t\t\tshow-overflow-tooltip>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"user.nickname\"\n\t\t\t\t\tlabel=\"发布用户\"\n\t\t\t\t\tshow-overflow-tooltip\n\t\t\t\t\twidth=\"120\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"idlePrice\"\n\t\t\t\t\tlabel=\"价格\"\n\t\t\t\t\twidth=\"100\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<span class=\"price\">¥{{ scope.row.idlePrice }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\ticon=\"el-icon-delete\"\n\t\t\t\t\t\t\t@click=\"deleteGoods(scope.$index)\">删除\n\t\t\t\t\t\t</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\n\t\t\t<div class=\"pagination-container\">\n\t\t\t\t<el-pagination\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\t\t:current-page.sync=\"nowPage\"\n\t\t\t\t\t:page-size=\"8\"\n\t\t\t\t\tbackground\n\t\t\t\t\tlayout=\"prev, pager, next, jumper\"\n\t\t\t\t\t:total=\"total\">\n\t\t\t\t</el-pagination>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n    export default {\n        name: \"IdleGoods\",\n        data() {\n            return {\n                mode: 1,\n                nowPage: 1,\n                total: 0,\n                onlineGoods: [],\n                OfflineGoods: [],\n                findValue: '',\n\t\t\t\t\t\t\t\tstatus: \"1\"\n            }\n        },\n        created() {\n            this.getOnlineGoods();\n        },\n        methods: {\n            handleOfflineGoods(index) {\n                this.$confirm('是否确定下架此闲置商品?', '警告', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    // 用户点击确定后的逻辑，例如调用后端接口下架商品\n                    this.makeOfflineGoods(index);\n                }).catch(() => {\n                    // 用户点击取消后的逻辑，这里可以省略或添加相应处理\n                    console.log('下架操作已取消');\n                });\n            },\n            searchIdle(){\n                this.$api.queryIdle({\n                    findValue: this.findValue,\n                    page: this.nowPage,\n                    nums: 8,\n\t\t\t\t\t\t\t\t\t\tstatus: parseInt(this.status)\n                }).then(res => {\n                    console.log(res);\n                    if (res.status_code == 1 && res.data.list != null) {\n                            if(res.data.list[0].idleStatus == 1){\n                                this.onlineGoods = res.data.list;\n                                this.total = res.data.count;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else {\n                                this.OfflineGoods = res.data.list;\n                                this.total = res.data.count;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n                    } else{\n                        this.$message.error(res.msg)\n\t\t\t\t\t\t\t\t\t\t}\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            handleCurrentChange(val) {\n                this.nowPage = val;\n                if (this.mode == 1) {\n                    this.getOnlineGoods();\n                }\n                if (this.mode == 2) {\n                    this.getOfflineGoods();\n                }\n            },\n            handleSelect(tab) {\n                const val = parseInt(tab.name);\n                if (this.mode !== val) {\n                    this.mode = val;\n                    if (val == 1) {\n                        this.nowPage = 1;\n                        this.getOnlineGoods();\n                    }\n                    if (val == 2) {\n                        this.nowPage = 1;\n                        this.getOfflineGoods();\n                    }\n                }\n            },\n            makeOfflineGoods(i) {\n                this.$api.updateGoods({\n                    id: this.onlineGoods[i].id,\n                    status: 2\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.$message.success('下架成功');\n                        this.getOnlineGoods();\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            deleteGoods(i) {\n                this.$api.updateGoods({\n                    id: this.OfflineGoods[i].id,\n                    status: 0\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.getOfflineGoods();\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            getOnlineGoods() {\n                this.$api.getGoods({\n                    status: 1,\n                    page: this.nowPage,\n                    nums: 8\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.onlineGoods = res.data.list;\n                        this.total = res.data.count;\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            getOfflineGoods() {\n                this.$api.getGoods({\n                    status: 2,\n                    page: this.nowPage,\n                    nums: 8\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.OfflineGoods = res.data.list;\n                        this.total = res.data.count;\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\t.idle-goods-container {\n\t\tbackground-color: var(--el-bg-color);\n\t\tpadding: var(--el-spacing-lg);\n\t\tbox-shadow: var(--el-box-shadow-light);\n\t\tborder-radius: var(--el-border-radius-base);\n\t}\n\n\t.idle-header {\n\t\tmargin-bottom: var(--el-spacing-lg);\n\t}\n\n\t.search-box {\n\t\tmargin-top: var(--el-spacing-lg);\n\t\tmax-width: 400px;\n\t}\n\n\t.search-input >>> .el-input__inner {\n\t\tborder-radius: var(--el-border-radius-base);\n\t}\n\n\t.idle-table-wrapper {\n\t\tmargin-top: var(--el-spacing-lg);\n\t}\n\n\t.idle-table {\n\t\twidth: 100%;\n\t\tmargin-bottom: var(--el-spacing-lg);\n\t}\n\n\t.price {\n\t\tcolor: var(--el-color-danger);\n\t\tfont-weight: 500;\n\t}\n\n\t.pagination-container {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tpadding: var(--el-spacing-lg) 0;\n\t}\n</style>\n"],"mappings":"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","ignoreList":[]}]}