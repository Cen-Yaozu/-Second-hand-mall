{"remainingRequest":"D:\\Desktop\\-Second-hand-mall\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\-Second-hand-mall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Desktop\\-Second-hand-mall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\-Second-hand-mall\\src\\components\\page\\search.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Desktop\\-Second-hand-mall\\src\\components\\page\\search.vue","mtime":1741159852061},{"path":"D:\\Desktop\\-Second-hand-mall\\babel.config.js","mtime":1741159852048},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741229036518},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\babel-loader\\lib\\index.js","mtime":1741229036772},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741229036518},{"path":"D:\\Desktop\\-Second-hand-mall\\node_modules\\vue-loader\\lib\\index.js","mtime":1741229036465}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport AppHead from \"../common/AppHeader.vue\";\nimport AppBody from \"../common/AppPageBody.vue\";\nimport AppFoot from \"../common/AppFoot.vue\";\nexport default {\n  name: \"search\",\n  components: {\n    AppHead: AppHead,\n    AppBody: AppBody,\n    AppFoot: AppFoot\n  },\n  data: function data() {\n    return {\n      idleList: [],\n      currentPage: 1,\n      searchValue: '',\n      totalItem: 1\n    };\n  },\n  created: function created() {\n    this.findIdleTiem(1, this.$route.query.searchValue);\n    this.searchValue = this.$route.query.searchValue;\n  },\n  watch: {\n    $route: function $route(to, from) {\n      this.searchValue = to.query.searchValue;\n      this.findIdleTiem(to.query.page, to.query.searchValue);\n    }\n  },\n  methods: {\n    findIdleTiem: function findIdleTiem(page, findValue) {\n      var _this = this;\n      this.$api.findIdleTiem({\n        page: page,\n        nums: 8,\n        findValue: findValue\n      }).then(function (res) {\n        console.log(res);\n        var list = res.data.list;\n        for (var i = 0; i < list.length; i++) {\n          list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n          var pictureList = JSON.parse(list[i].pictureList);\n          list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n        }\n        _this.idleList = list;\n        _this.totalItem = res.data.count;\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n      console.log(this.labelName);\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.$router.replace({\n        query: {\n          page: val,\n          searchValue: this.searchValue\n        }\n      });\n    },\n    toDetails: function toDetails(idle) {\n      this.$router.push({\n        path: '/details',\n        query: {\n          id: idle.id\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["AppHead","AppBody","AppFoot","name","components","data","idleList","currentPage","searchValue","totalItem","created","findIdleTiem","$route","query","watch","to","from","page","methods","findValue","_this","$api","nums","then","res","console","log","list","i","length","timeStr","releaseTime","substring","pictureList","JSON","parse","imgUrl","count","catch","e","handleClick","tab","event","labelName","handleCurrentChange","val","concat","$router","replace","toDetails","idle","push","path","id"],"sources":["src/components/page/search.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <app-head :searchInput=\"searchValue\"></app-head>\r\n        <app-body>\r\n            <div style=\"min-height: 85vh;\">\r\n                <div style=\"margin: 0 20px;padding-top: 20px;\">\r\n                    <div style=\"text-align: center;color: #555555;padding: 20px;\" v-if=\"idleList.length===0\">暂无匹配的闲置物品</div>\r\n                    <el-row :gutter=\"30\">\r\n                        <el-col :span=\"6\" v-for=\"(idle,index) in idleList\">\r\n                            <div class=\"idle-card\" @click=\"toDetails(idle)\">\r\n                                <el-image\r\n                                        style=\"width: 100%; height: 160px\"\r\n                                        :src=\"idle.imgUrl\"\r\n                                        fit=\"contain\">\r\n                                    <div slot=\"error\" class=\"image-slot\">\r\n                                        <i class=\"el-icon-picture-outline\">无图</i>\r\n                                    </div>\r\n                                </el-image>\r\n                                <div class=\"idle-title\">\r\n                                    {{idle.idleName}}\r\n                                </div>\r\n                                <el-row style=\"margin: 5px 10px;\">\r\n                                    <el-col :span=\"12\">\r\n                                        <div class=\"idle-prive\">￥{{idle.idlePrice}}</div>\r\n                                    </el-col>\r\n                                    <el-col :span=\"12\">\r\n                                        <div class=\"idle-place\">{{idle.idlePlace}}</div>\r\n                                    </el-col>\r\n                                </el-row>\r\n                                <div class=\"idle-time\">{{idle.timeStr}}</div>\r\n                                <div class=\"user-info\">\r\n                                    <el-image\r\n                                            style=\"width: 30px; height: 30px\"\r\n                                            :src=\"idle.user.avatar\"\r\n                                            fit=\"contain\">\r\n                                        <div slot=\"error\" class=\"image-slot\">\r\n                                            <i class=\"el-icon-picture-outline\">无图</i>\r\n                                        </div>\r\n                                    </el-image>\r\n                                    <div class=\"user-nickname\">{{idle.user.nickname}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n                <div class=\"fenye\">\r\n                    <el-pagination\r\n                            background\r\n                            @current-change=\"handleCurrentChange\"\r\n                            :current-page.sync=\"currentPage\"\r\n                            :page-size=\"8\"\r\n                            layout=\"prev, pager, next, jumper\"\r\n                            :total=\"totalItem\">\r\n                    </el-pagination>\r\n                </div>\r\n            </div>\r\n            <app-foot></app-foot>\r\n        </app-body>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import AppHead from '../common/AppHeader.vue';\r\n    import AppBody from '../common/AppPageBody.vue'\r\n    import AppFoot from '../common/AppFoot.vue'\r\n\r\n    export default {\r\n        name: \"search\",\r\n        components: {\r\n            AppHead,\r\n            AppBody,\r\n            AppFoot\r\n        },\r\n        data() {\r\n            return {\r\n                idleList: [],\r\n                currentPage: 1,\r\n                searchValue: '',\r\n                totalItem:1\r\n            };\r\n        },\r\n        created() {\r\n            this.findIdleTiem(1, this.$route.query.searchValue);\r\n            this.searchValue = this.$route.query.searchValue;\r\n        },\r\n        watch: {\r\n            $route(to, from) {\r\n                this.searchValue = to.query.searchValue;\r\n                this.findIdleTiem(to.query.page, to.query.searchValue);\r\n            }\r\n        },\r\n        methods: {\r\n            findIdleTiem(page, findValue) {\r\n                this.$api.findIdleTiem({\r\n                    page: page,\r\n                    nums: 8,\r\n                    findValue: findValue\r\n                }).then(res => {\r\n                    console.log(res);\r\n                    let list = res.data.list;\r\n                    for (let i = 0; i < list.length; i++) {\r\n                        list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\r\n                        let pictureList = JSON.parse(list[i].pictureList);\r\n                        list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\r\n                    }\r\n                    this.idleList = list;\r\n                    this.totalItem=res.data.count;\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                })\r\n            },\r\n            handleClick(tab, event) {\r\n                console.log(tab, event);\r\n                console.log(this.labelName)\r\n            },\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.$router.replace({query: {page: val, searchValue: this.searchValue}});\r\n            },\r\n            toDetails(idle) {\r\n                this.$router.push({path: '/details', query: {id: idle.id}});\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .idle-card {\r\n        height: 300px;\r\n        border: #eeeeee solid 1px;\r\n        margin-bottom: 15px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .fenye {\r\n        display: flex;\r\n        justify-content: center;\r\n        height: 60px;\r\n        align-items: center;\r\n    }\r\n\r\n    .idle-title {\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        margin: 10px;\r\n    }\r\n\r\n    .idle-prive {\r\n        font-size: 16px;\r\n        color: red;\r\n    }\r\n\r\n    .idle-place {\r\n        font-size: 13px;\r\n        color: #666666;\r\n        float: right;\r\n        padding-right: 20px;\r\n\r\n    }\r\n\r\n    .idle-time {\r\n        color: #666666;\r\n        font-size: 12px;\r\n        margin: 0 10px;\r\n    }\r\n\r\n    .user-nickname {\r\n        color: #999999;\r\n        font-size: 12px;\r\n        display: flex;\r\n        align-items: center;\r\n        height: 30px;\r\n        padding-left: 10px;\r\n    }\r\n\r\n    .user-info {\r\n        padding: 5px 10px;\r\n        height: 30px;\r\n        display: flex;\r\n    }\r\n</style>"],"mappings":";AA8DA,OAAAA,OAAA;AACA,OAAAC,OAAA;AACA,OAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAJ,OAAA,EAAAA,OAAA;IACAC,OAAA,EAAAA,OAAA;IACAC,OAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,WAAA;MACAC,WAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,YAAA,SAAAC,MAAA,CAAAC,KAAA,CAAAL,WAAA;IACA,KAAAA,WAAA,QAAAI,MAAA,CAAAC,KAAA,CAAAL,WAAA;EACA;EACAM,KAAA;IACAF,MAAA,WAAAA,OAAAG,EAAA,EAAAC,IAAA;MACA,KAAAR,WAAA,GAAAO,EAAA,CAAAF,KAAA,CAAAL,WAAA;MACA,KAAAG,YAAA,CAAAI,EAAA,CAAAF,KAAA,CAAAI,IAAA,EAAAF,EAAA,CAAAF,KAAA,CAAAL,WAAA;IACA;EACA;EACAU,OAAA;IACAP,YAAA,WAAAA,aAAAM,IAAA,EAAAE,SAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,IAAA,CAAAV,YAAA;QACAM,IAAA,EAAAA,IAAA;QACAK,IAAA;QACAH,SAAA,EAAAA;MACA,GAAAI,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,IAAAG,IAAA,GAAAH,GAAA,CAAAnB,IAAA,CAAAsB,IAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,IAAA,CAAAE,MAAA,EAAAD,CAAA;UACAD,IAAA,CAAAC,CAAA,EAAAE,OAAA,GAAAH,IAAA,CAAAC,CAAA,EAAAG,WAAA,CAAAC,SAAA,gBAAAL,IAAA,CAAAC,CAAA,EAAAG,WAAA,CAAAC,SAAA;UACA,IAAAC,WAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAR,IAAA,CAAAC,CAAA,EAAAK,WAAA;UACAN,IAAA,CAAAC,CAAA,EAAAQ,MAAA,GAAAH,WAAA,CAAAJ,MAAA,OAAAI,WAAA;QACA;QACAb,KAAA,CAAAd,QAAA,GAAAqB,IAAA;QACAP,KAAA,CAAAX,SAAA,GAAAe,GAAA,CAAAnB,IAAA,CAAAgC,KAAA;MACA,GAAAC,KAAA,WAAAC,CAAA;QACAd,OAAA,CAAAC,GAAA,CAAAa,CAAA;MACA;IACA;IACAC,WAAA,WAAAA,YAAAC,GAAA,EAAAC,KAAA;MACAjB,OAAA,CAAAC,GAAA,CAAAe,GAAA,EAAAC,KAAA;MACAjB,OAAA,CAAAC,GAAA,MAAAiB,SAAA;IACA;IACAC,mBAAA,WAAAA,oBAAAC,GAAA;MACApB,OAAA,CAAAC,GAAA,wBAAAoB,MAAA,CAAAD,GAAA;MACA,KAAAE,OAAA,CAAAC,OAAA;QAAAnC,KAAA;UAAAI,IAAA,EAAA4B,GAAA;UAAArC,WAAA,OAAAA;QAAA;MAAA;IACA;IACAyC,SAAA,WAAAA,UAAAC,IAAA;MACA,KAAAH,OAAA,CAAAI,IAAA;QAAAC,IAAA;QAAAvC,KAAA;UAAAwC,EAAA,EAAAH,IAAA,CAAAG;QAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}