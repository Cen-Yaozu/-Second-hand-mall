{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/-Second-hand-mall/src/utils/mixin.js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/utils/mixin.js","mtime":1741743644086},{"path":"/Users/macos/Desktop/-Second-hand-mall/babel.config.js","mtime":1741743639580},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250}],"contextDependencies":[],"result":["/*屏幕自适应函数*/\n\n// * 默认缩放值\nvar scale = {\n  width: '1',\n  height: '1'\n};\n\n// * 设计稿尺寸（px）\nvar baseWidth = 1920;\nvar baseHeight = 1080;\n// * 需保持的比例（默认1.77778）\nvar baseProportion = parseFloat((baseWidth / baseHeight).toFixed(5));\nexport default {\n  data: function data() {\n    return {\n      // * 定时函数\n      drawTiming: null\n    };\n  },\n  mounted: function mounted() {\n    //加载后先计算一遍缩放比例\n    this.calcRate();\n    //生成一个监听器：窗口发生变化从新计算计算一遍缩放比例\n    window.addEventListener('resize', this.resize);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('resize', this.resize);\n  },\n  methods: {\n    calcRate: function calcRate() {\n      //拿到整个页面元素\n      var appRef = this.$refs[\"zoom\"];\n      //如果没有值就结束\n      if (!appRef) return;\n      // 当前宽高比\n      var currentRate = parseFloat((window.innerWidth / window.innerHeight).toFixed(5));\n      //判断：如果有值代表页面变化了\n      if (appRef) {\n        //判断当前宽高比例是否大于默认比例\n        if (currentRate > baseProportion) {\n          scale.width = (window.innerHeight * baseProportion / baseWidth).toFixed(5);\n          scale.height = (window.innerHeight / baseHeight).toFixed(5);\n          //整个页面的元素样式，缩放宽高用当前同比例放大的宽高\n          appRef.style.transform = \"scale(\".concat(scale.width, \", \").concat(scale.height, \") translate(-50%, -50%)\");\n        } else {\n          scale.height = (window.innerWidth / baseProportion / baseHeight).toFixed(5);\n          scale.width = (window.innerWidth / baseWidth).toFixed(5);\n          appRef.style.transform = \"scale(\".concat(scale.width, \", \").concat(scale.height, \") translate(-50%, -50%)\");\n        }\n      }\n    },\n    resize: function resize() {\n      var _this = this;\n      //先清除计时器\n      clearTimeout(this.drawTiming);\n      //开启计时器\n      this.drawTiming = setTimeout(function () {\n        _this.calcRate();\n      }, 200);\n    }\n  }\n};",{"version":3,"names":["scale","width","height","baseWidth","baseHeight","baseProportion","parseFloat","toFixed","data","drawTiming","mounted","calcRate","window","addEventListener","resize","beforeDestroy","removeEventListener","methods","appRef","$refs","currentRate","innerWidth","innerHeight","style","transform","concat","_this","clearTimeout","setTimeout"],"sources":["/Users/macos/Desktop/-Second-hand-mall/src/utils/mixin.js"],"sourcesContent":["/*屏幕自适应函数*/\n\n// * 默认缩放值\nconst scale = {\n    width: '1',\n    height: '1',\n}\n\n// * 设计稿尺寸（px）\nconst baseWidth = 1920\nconst baseHeight = 1080\n// * 需保持的比例（默认1.77778）\nconst baseProportion = parseFloat((baseWidth / baseHeight).toFixed(5))\n\nexport default {\n    data() {\n        return {\n            // * 定时函数\n            drawTiming: null\n        }\n    },\n    mounted () {\n        //加载后先计算一遍缩放比例\n        this.calcRate()\n        //生成一个监听器：窗口发生变化从新计算计算一遍缩放比例\n        window.addEventListener('resize', this.resize)\n    },\n    beforeDestroy () {\n        window.removeEventListener('resize', this.resize)\n    },\n    methods: {\n        calcRate () {\n            //拿到整个页面元素\n            const appRef = this.$refs[\"zoom\"]\n            //如果没有值就结束\n            if (!appRef) return\n            // 当前宽高比\n            const currentRate = parseFloat((window.innerWidth / window.innerHeight).toFixed(5))\n            //判断：如果有值代表页面变化了\n            if (appRef) {\n                //判断当前宽高比例是否大于默认比例\n                if (currentRate > baseProportion) {\n                    scale.width = ((window.innerHeight * baseProportion) / baseWidth).toFixed(5)\n                    scale.height = (window.innerHeight / baseHeight).toFixed(5)\n                    //整个页面的元素样式，缩放宽高用当前同比例放大的宽高\n                    appRef.style.transform = `scale(${scale.width}, ${scale.height}) translate(-50%, -50%)`\n                } else {\n                    scale.height = ((window.innerWidth / baseProportion) / baseHeight).toFixed(5)\n                    scale.width = (window.innerWidth / baseWidth).toFixed(5)\n                    appRef.style.transform = `scale(${scale.width}, ${scale.height}) translate(-50%, -50%)`\n                }\n            }\n        },\n        resize () {\n            //先清除计时器\n            clearTimeout(this.drawTiming)\n            //开启计时器\n            this.drawTiming = setTimeout(() => {\n                this.calcRate()\n            }, 200)\n        }\n    },\n}\n"],"mappings":"AAAA;;AAEA;AACA,IAAMA,KAAK,GAAG;EACVC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE;AACZ,CAAC;;AAED;AACA,IAAMC,SAAS,GAAG,IAAI;AACtB,IAAMC,UAAU,GAAG,IAAI;AACvB;AACA,IAAMC,cAAc,GAAGC,UAAU,CAAC,CAACH,SAAS,GAAGC,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC,CAAC;AAEtE,eAAe;EACXC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACH,OAAO;MACH;MACAC,UAAU,EAAE;IAChB,CAAC;EACL,CAAC;EACDC,OAAO,WAAPA,OAAOA,CAAA,EAAI;IACP;IACA,IAAI,CAACC,QAAQ,CAAC,CAAC;IACf;IACAC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,MAAM,CAAC;EAClD,CAAC;EACDC,aAAa,WAAbA,aAAaA,CAAA,EAAI;IACbH,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,MAAM,CAAC;EACrD,CAAC;EACDG,OAAO,EAAE;IACLN,QAAQ,WAARA,QAAQA,CAAA,EAAI;MACR;MACA,IAAMO,MAAM,GAAG,IAAI,CAACC,KAAK,CAAC,MAAM,CAAC;MACjC;MACA,IAAI,CAACD,MAAM,EAAE;MACb;MACA,IAAME,WAAW,GAAGd,UAAU,CAAC,CAACM,MAAM,CAACS,UAAU,GAAGT,MAAM,CAACU,WAAW,EAAEf,OAAO,CAAC,CAAC,CAAC,CAAC;MACnF;MACA,IAAIW,MAAM,EAAE;QACR;QACA,IAAIE,WAAW,GAAGf,cAAc,EAAE;UAC9BL,KAAK,CAACC,KAAK,GAAG,CAAEW,MAAM,CAACU,WAAW,GAAGjB,cAAc,GAAIF,SAAS,EAAEI,OAAO,CAAC,CAAC,CAAC;UAC5EP,KAAK,CAACE,MAAM,GAAG,CAACU,MAAM,CAACU,WAAW,GAAGlB,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC;UAC3D;UACAW,MAAM,CAACK,KAAK,CAACC,SAAS,YAAAC,MAAA,CAAYzB,KAAK,CAACC,KAAK,QAAAwB,MAAA,CAAKzB,KAAK,CAACE,MAAM,4BAAyB;QAC3F,CAAC,MAAM;UACHF,KAAK,CAACE,MAAM,GAAG,CAAEU,MAAM,CAACS,UAAU,GAAGhB,cAAc,GAAID,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC;UAC7EP,KAAK,CAACC,KAAK,GAAG,CAACW,MAAM,CAACS,UAAU,GAAGlB,SAAS,EAAEI,OAAO,CAAC,CAAC,CAAC;UACxDW,MAAM,CAACK,KAAK,CAACC,SAAS,YAAAC,MAAA,CAAYzB,KAAK,CAACC,KAAK,QAAAwB,MAAA,CAAKzB,KAAK,CAACE,MAAM,4BAAyB;QAC3F;MACJ;IACJ,CAAC;IACDY,MAAM,WAANA,MAAMA,CAAA,EAAI;MAAA,IAAAY,KAAA;MACN;MACAC,YAAY,CAAC,IAAI,CAAClB,UAAU,CAAC;MAC7B;MACA,IAAI,CAACA,UAAU,GAAGmB,UAAU,CAAC,YAAM;QAC/BF,KAAI,CAACf,QAAQ,CAAC,CAAC;MACnB,CAAC,EAAE,GAAG,CAAC;IACX;EACJ;AACJ,CAAC","ignoreList":[]}]}