{"remainingRequest":"/Users/macos/Desktop/-Second-hand-mall/node_modules/thread-loader/dist/cjs.js!/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js!/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Desktop/-Second-hand-mall/src/components/common/AppHeader.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Desktop/-Second-hand-mall/src/components/common/AppHeader.vue","mtime":1741743644072},{"path":"/Users/macos/Desktop/-Second-hand-mall/babel.config.js","mtime":1741743639580},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/thread-loader/dist/cjs.js","mtime":1741743643599},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/babel-loader/lib/index.js","mtime":1741743640250},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/cache-loader/dist/cjs.js","mtime":1741743640345},{"path":"/Users/macos/Desktop/-Second-hand-mall/node_modules/vue-loader/lib/index.js","mtime":1741743643788}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport Mixin from '@/utils/mixin';\nexport default {\n  mixins: [Mixin],\n  name: 'Header',\n  props: ['searchInput', 'nicknameValue', 'avatarValue'],\n  data: function data() {\n    return {\n      logoPath: \"/logo.png\",\n      searchValue: this.searchInput,\n      nickname: '登录',\n      avatar: 'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png',\n      isLogin: false,\n      unreadMessagesCount: 3\n    };\n  },\n  created: function created() {\n    var _this = this;\n    // console.log(\"header\");\n    if (!this.$globalData.userInfo.nickname) {\n      this.$api.getUserInfo().then(function (res) {\n        console.log('Header getUserInfo:', res);\n        if (res.status_code === 1) {\n          _this.nickname = res.data.nickname;\n          _this.avatar = res.data.avatar;\n          res.data.signInTime = res.data.signInTime.substring(0, 10);\n          _this.$globalData.userInfo = res.data;\n          _this.isLogin = true;\n        }\n      });\n    } else {\n      this.nickname = this.$globalData.userInfo.nickname;\n      this.avatar = this.$globalData.userInfo.avatar;\n      this.isLogin = true;\n    }\n  },\n  methods: {\n    searchIdle: function searchIdle() {\n      if ('/search' !== this.$route.path) {\n        this.$router.push({\n          path: '/search',\n          query: {\n            searchValue: this.searchValue\n          }\n        });\n      } else {\n        this.$router.replace({\n          path: '/search',\n          query: {\n            searchValue: this.searchValue\n          }\n        });\n        this.$router.go(0);\n      }\n    },\n    toMe: function toMe() {\n      if ('/me' !== this.$route.path) {\n        this.$router.push({\n          path: '/me'\n        });\n      }\n    },\n    toMessage: function toMessage() {\n      if ('/message' !== this.$route.path) {\n        this.$router.push({\n          path: '/message'\n        });\n      }\n    },\n    toRelease: function toRelease() {\n      if ('/release' !== this.$route.path) {\n        this.$router.push({\n          path: '/release'\n        });\n      }\n    },\n    /*这里的logout 只是用前端来删除掉浏览器中之前登录过的用户信息，并没有发送请求*/loginOut: function loginOut() {\n      var _this2 = this;\n      this.$api.logout().then(function (res) {\n        if (res.status_code === 1) {\n          _this2.$globalData.userInfo = {};\n          console.log(\"login out\");\n          if ('/index' === _this2.$route.path) {\n            _this2.$router.go(0);\n          } else {\n            _this2.$router.push({\n              path: '/index'\n            });\n          }\n        } else {\n          _this2.$message.error('网络或系统异常，退出登录失败！');\n        }\n      });\n    }\n  }\n};",null]}